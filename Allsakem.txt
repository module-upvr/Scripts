local Saken = {}

function Saken.Esp() 
-- Forsaken ESP Script (Delta Executor)
-- Shows: Killer, Survivor, Medkit, Bloxy Cola, Generator

local Player = game:GetService("Players").LocalPlayer

local function createESP(object, color)
    local highlight = Instance.new("Highlight")
    highlight.FillTransparency = 0.85
    highlight.OutlineTransparency = 0
    highlight.FillColor = color
    highlight.OutlineColor = Color3.new(1,1,1)
    highlight.Parent = object
    return highlight
end

local function updateESP()
    for _, v in pairs(workspace.Map.Ingame:GetDescendants()) do
        if v.Name == "Medkit" and v:IsA("Tool") then
            if v:FindFirstChild("Highlight") then v.Highlight:Destroy() end
            createESP(v, Color3.new(1,1,0)) -- Yellow for Medkit
        elseif v.Name == "BloxyCola" and v:IsA("Tool") then
            if v:FindFirstChild("Highlight") then v.Highlight:Destroy() end
            createESP(v, Color3.new(0,0,1)) -- Blue for Bloxy Cola
        elseif v.Name == "Generator" and v:IsA("Model") and v.Parent.Name ~= "Instances" then
            if v:FindFirstChild("Highlight") then v.Highlight:Destroy() end
            createESP(v, Color3.new(1,0,1)) -- Purple for Generator
        end
    end
end

updateESP() 
Player.CharacterAdded:Connect(function() 
    wait(2.6) 
    updateESP()
end) 
end

function Saken.AutoGen() 
local Run = game:GetService("RunService")
local PlayerG = game:GetService("Players").LocalPlayer.PlayerGui
local function solvgen() 
    local Map = workspace.Map.Ingame.Map
    for _, v in pairs(Map:GetDescendants()) do
        if v:IsA("RemoteEvent") then
            v:FireServer() 
        end
    end
end

if getgenv().loop then 
    getgenv().loop:Disconnect() 
    getgenv().loop = nil 
end

local nextActionTime = 0
local delayTime = 3.5

getgenv().loop = Run.Heartbeat:Connect(function()
    local ui = PlayerG:FindFirstChild("PuzzleUI")
    
    if ui then
        -- Jika ini adalah pertama kali UI terdeteksi, tentukan target waktu eksekusi
        if nextActionTime == 0 then
            nextActionTime = os.clock() + delayTime
        end

        -- Cek apakah waktu sekarang sudah mencapai target
        if os.clock() >= nextActionTime then
            solvgen() 
            -- Setel ulang target waktu untuk loop berikutnya (tambah 3.5 detik lagi)
            nextActionTime = os.clock() + delayTime
        end
    else
        -- Jika UI hilang, reset timer ke 0 agar saat muncul lagi, delay mulai dari awal
        if nextActionTime ~= 0 then
            nextActionTime = 0
        end
    end
end)
end

function Saken.Config() 
local Killers = game:GetService("ReplicatedStorage").Assets.Killers:GetChildren() 
local Survivors = game:GetService("ReplicatedStorage").Assets.Survivors:GetChildren()
local guest = game:GetService("ReplicatedStorage").Assets.Skins.Survivors.Guest1337:GetChildren() 

local slasher = game:GetService("ReplicatedStorage").Assets.Skins.Killers.Slasher:GetChildren() 

local Sprinting = require(game:GetService("ReplicatedStorage").Systems.Character.Game.Sprinting)

Sprinting.DefaultConfig.MinStamina = -5400

for _, Kill in pairs(Killers) do --Applying Kill
    require(Kill.Config).Speed =  13
    require(Kill.Config).SprintSpeed = 32
    if Kill.Name == "Noli" then
        require(Kill.Config).VoidRushDashSpeed = 100
        require(Kill.Config).VoidRushTurnSpeed = math.huge
        require(Kill.Config).VoidRushInitialTurnDuration = 0
        require(Kill.Config).VoidRushInitialTurnMult = 0
    elseif Kill.Name == "Slasher" then
        require(Kill.Config).EnragedSpeed = 30
    else
    end
end 

for _, Surv in pairs(Survivors) do --Applying Surv
    require(Surv.Config).Speed = 16
    require(Surv.Config).SprintSpeed = 30
    if Surv.Name == "Guest1337" then
        require(Surv.Config).Animations.Block = "rbxassetid://107327732473479"
        require(Surv.Config).PunchDashForce = 110
        for i, v in pairs(guest) do
            if require(v.Config).Animations then
            require(v.Config).Animations.Block = "rbxassetid://0000"
            end
        end
    elseif Surv.Name == "Veeronica" then
        require(Surv.Config).Sk8TurnControl = 6
     elseif Surv.Name == "TwoTime" then
        require(Surv.Config).DaggerLungeForce = 300
        require(Surv.Config).DaggerUncrouchedLungeForce = 250
        require(Surv.Config).CrouchSpeed = 15
        require(Surv.Config).CrouchRunSpeed = 30
    end
end

local TT = require(game:GetService("ReplicatedStorage").Assets.Survivors.TwoTime.Behavior) 

local Util = require(game:GetService("ReplicatedStorage").Modules.Util) 

local Debris = game:GetService("Debris") 

local TS = game:GetService("TweenService") 

local isCrouched = false

TT.Abilities.Dagger.Callback = function(arg1) 
    if not isCrouched then
        arg1.Animations.Stab:Play(0.3) 
        task.delay(0.2, function() 
            local Vel = Util:ApplyVelocity(arg1.Rig, 135)
            Debris:AddItem(Vel, 0.2)
        end) 
    end
end

function Saken.Function() 
local ragdolls = require(game:GetService("ReplicatedStorage").Modules.Ragdolls) 
local sounds = require(game:GetService("ReplicatedStorage").Modules.Sounds)
local PL = game:GetService("Players").LocalPlayer
local PlaySound = function(D, P, N) 
    if not P:FindFirstChild(N) then
        local S = Instance.new("Sound", P)
        S.Name = N
        S.SoundId = D
        S:Play() 
    else
        P[N]:Play() 
    end
end

local function AnimSaken() 
local PC = PL.Character

local Invis = Instance.new("Animation", PC) 
Invis.AnimationId = "rbxassetid://75804462760596"
Invis.Name = "Invisible"

local Jerk = Instance.new("Animation", PC)
Jerk.AnimationId = "rbxassetid://72042024"
Jerk.Name = "Goon"

local Block = Instance.new("Animation", PC) 
Block.AnimationId = "rbxassetid://72722244508749"
Block.Name = "FakeBlock"

local Animator = PC:WaitForChild("Humanoid").Animator

local JerkAnim = Animator:LoadAnimation(Jerk) 
JerkAnim.Looped = true
local BlockAnim = Animator:LoadAnimation(Block) 

local Gui = Instance.new("ScreenGui", PL.PlayerGui) 

local TextButton = Instance.new("TextButton", Gui) 
TextButton.Size = UDim2.new(0.1, 0, 0.1, 0) 
TextButton.Text = "Goon"

local TextButton2 = Instance.new("TextButton", Gui) 
TextButton2.Size = UDim2.new(0.1, 0, 0.1, 0) 
TextButton2.Position = UDim2.new(0.1, 0, 0, 0) 
TextButton2.Text = "FakeBlock"

local TextButton3 = Instance.new("TextButton", Gui) 
TextButton3.Size = UDim2.new(0.1, 0, 0.1, 0) 
TextButton3.Position = UDim2.new(0.2, 0, 0, 0) 
TextButton3.Text = "Ragdoll"

local Bool = false
local Bool2 = false

TextButton3.MouseButton1Click:Connect(function() 
    if not Bool2 then
        PC.Humanoid.PlatformStand = true
        PlaySound("rbxassetid://82176913611683", PC.PrimaryPart, "Blood") 
        PlaySound("rbxassetid://1080611063", PC.PrimaryPart, "ScoutScream") 
        Bool2 = true
        local suc = pcall(function() ragdolls.EnableRagdoll(PC) end) 
    else
        ragdolls.DisableRagdoll(PC)
        PC.Humanoid.PlatformStand = false
        Bool2 = false
    end
end) 

TextButton2.MouseButton1Click:Connect(function() 
    BlockAnim:Play() 
end) 

TextButton.MouseButton1Click:Connect(function() 
    if not Bool then
        JerkAnim:Play() 
        Bool = true
    else
        JerkAnim:Stop() 
        Bool = false
    end
end) 
end

AnimSaken() 
PL.CharacterAdded:Connect(AnimSaken) 

local Landing = game:GetService("ReplicatedStorage").Systems.Character.Miscellaneous:FindFirstChild("SlowOnLanding") 

local blind = require(game:GetService("ReplicatedStorage").Modules.StatusEffects.Blindness) 

blind.Applied = function(arg1)
end

local Undetect = require(game:GetService("ReplicatedStorage").Modules.StatusEffects.Undetectable) 
Undetect.Applied = function(arg1) 
    local Char = arg1.Character
    if Char then
        local InvisAnim = Char.Humanoid.Animator:LoadAnimation(Char.Invisible) 
        InvisAnim:Play(0) 
        InvisAnim:AdjustSpeed(0) 
    end
end

Undetect.Removed = function(arg1)
    local Char = arg1.Character
    if Char then
        for _, v in ipairs(Char.Humanoid.Animator:GetPlayingAnimationTracks()) do
            if string.find(v.Animation.AnimationId, "rbxassetid://75804462760596")then
                v:Stop(0) 
            end
        end
    end
end
    
local Direct = game:GetService("ReplicatedStorage").Systems.Character.QualityOfLife:FindFirstChild("DirectionalSpeed") 

local ChatSystem = game:GetService("ReplicatedStorage").Systems.Character.Miscellaneous:FindFirstChild("DisableChatWhenIngame") 

if Landing then
Landing:Destroy() 
Direct:Destroy() 
ChatSystem:Destroy() 
end

local Chat = game:GetService("TextChatService").ChatWindowConfiguration

spawn(function() while wait() do Chat.Enabled = true end end) 
end

return Saken